version: 2

project_name: terraform-provider-ysafe

builds:
  - id: ysafe
    main: ./main.go
    binary: terraform-provider-ysafe
    goos: [linux, darwin, windows]
    goarch: [amd64, arm64]

archives:
  - id: default
    builds: [ysafe]
    format: zip
    name_template: "{{ .ProjectName }}_{{ .Version }}_{{ .Os }}_{{ .Arch }}"

checksum:
  name_template: "SHASUMS"

signs:
  - artifacts: checksum
    signature: "${artifact}.sig"  # becomes SHA256SUMS.sig
    args: ["--armor", "--detach-sign"] 
    env:
      - GORELEASER_GPG_KEY
